# ControlForge Structured Text v1.3.0

**Release Date:** February 20, 2026

## Overview

Version 1.3.0 is a major feature release adding full LSP-based diagnostics, code formatting, rename symbol, code actions, rich hover tooltips, and a comprehensive test suite.

## What's Added

- **Rich hover tooltips** for all standard function blocks: parameter tables, behavior descriptions, usage examples (#22)
- **Advanced diagnostics**: missing semicolons, duplicate declarations, undefined variables, unused variables, type mismatches (#6)
- **Semantic analysis** powered by AST parser for deeper code inspection (#6)
- **Quick fixes**: insert semicolon, remove duplicate declaration, remove unused variable (#6)
- **Levenshtein fuzzy matching** for "did you mean?" suggestions on undefined identifiers (#6)
- **Code formatting** (`Shift+Alt+F` / `Ctrl+Shift+I` on Linux): keyword casing, indentation, operator spacing, VAR block alignment, trailing whitespace removal (#29)
- **Format Selection** for partial document formatting (#29)
- **Configurable formatting settings**: keywordCase, insertSpacesAroundOperators, alignVarDeclarations, trimTrailingWhitespace, insertFinalNewline (#29)
- **Rename Symbol** (F2): rename variables, functions, FBs, programs with IEC 61131-3 validation and comment awareness (#28)
- **Code actions**: auto-insert missing END blocks, close unclosed strings, fix unmatched parentheses (#26)
- **Real-time diagnostics** in Problems panel: unmatched blocks, unclosed strings, unmatched parentheses (#27)
- **AST parser rewrite** with multi-line statement accumulator (#41)
- **QA checklist** covering all 14 feature categories with manual test fixtures (#75)
- 366 unit tests covering all providers

## What's Changed

- License changed from BUSL-1.1 to MIT (#78)
- Extracted `getExtensionPath` into `extension-path.ts` for testability (#44)
- Updated all npm dependencies (TypeScript 4.9→5.9, webpack 5.99→5.105, node types 16→20) (#50)
- Removed legacy parser (`parser.ts`) and its tests

## What's Fixed

- Parser regex fails on multi-line variable declarations (#41)
- Verbose console.log in definition provider polluting output

## Installation

Install directly from the Visual Studio Code Marketplace or download the VSIX file from the GitHub releases page.
